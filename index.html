<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thunkable Web Viewer</title>
    <script>
        let ThunkableWebviewerExtension = {
            postMessage: function(message) {
                if (window.ReactNativeWebView) {
                    window.ReactNativeWebView.postMessage(message);
                } else {
                    window.parent.postMessage(message, '*');
                }
            },
            receiveMessage: function(fxn) {
                let callbackFunction = function(event) {
                    if (typeof fxn === 'function') {
                        fxn(event.data);
                    }
                };
                document.addEventListener('message', callbackFunction, false);
                window.addEventListener('message', callbackFunction, false);
            }
        };

        ThunkableWebviewerExtension.receiveMessage(function(message) {
            if (message === "showDropdown") {
                showDropdown();
            } else {
                console.log(message);
            }
        });

        function showDropdown() {
            const states = [
                "Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", 
                "Delaware", "Florida", "Georgia", "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", 
                "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland", "Massachusetts", "Michigan", 
                "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", 
                "New Jersey", "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", "Oklahoma", 
                "Oregon", "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota", "Tennessee", 
                "Texas", "Utah", "Vermont", "Virginia", "Washington", "West Virginia", "Wisconsin", "Wyoming"
            ];
            let select = document.createElement("select");
            states.forEach(state => {
                let option = document.createElement("option");
                option.value = state;
                option.textContent = state;
                select.appendChild(option);
            });
            document.getElementById("idBody").appendChild(select);
        }
    </script>
</head>
<body id="idBody">
    <h1>Thunkable Web Viewer</h1>
</body>
</html>
