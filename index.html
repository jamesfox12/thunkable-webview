
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
	let ThunkableWebviewerExtension = {
	  postMessage: function (message) {
		if (window.ReactNativeWebView) {
		  window.ReactNativeWebView.postMessage(message);
		} else {
		  window.parent.postMessage(message, '*');
		}
	  },
	  receiveMessage: function(fxn) {
		let callbackFunction = function(event) {
		  if (typeof fxn === 'function') {
			fxn(event.data)
		  }
		};
		document.addEventListener('message', callbackFunction, false);
		window.addEventListener('message', callbackFunction, false);
	  }
	}
	</script>
  </head>
  <body id="idBody">
  </body>
  <script>
    console.log("LOADED!!");
    ThunkableWebviewerExtension.receiveMessage(function(message) {
		
		if (message.indexOf('<script>')==-1){
		
			document.getElementById('idBody').innerHTML = message;	
			
		} else {
			
			let matches = message.match(/<script.*?>(.*?)<\/script>/);
			eval(matches[1]);
		}
    });
  </script>
</html>